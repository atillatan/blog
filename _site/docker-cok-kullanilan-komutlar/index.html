<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.9.0/github-markdown.min.css" integrity="sha256-AcEoN20lbehGx2iA6fVk4geoblRBOAUmz+gEM9QE59Y=" crossorigin="anonymous" />
  <link rel="stylesheet" href="/assets/css/core.css"/>
  <link rel="stylesheet" href="/assets/css/site.css"/>
  <link rel="shortcut icon" href="/favicon.ico" />
  <meta name="robots" content="index, follow">
  <meta name="author" content="Atilla Tanrikulu" />
  <meta name="description" content="atilla.tanrikulu.biz | Bir çok kategoride güzel ve özgün makaleler okuyabileceğiniz güncel bir blog."/>
  <title>Docker Cok kullanilan komutlar . Atilla Tanrikulu</title>
  <base href="">
</head>

<html lang="en">
  <body>
    <header class="container">
           <nav class="navbar navbar-inverse container-fluid navbar-fixed-top">
  <div>
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
              <span class="sr-only">Menü</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
      <a class="navbar-brand" href="/">Atilla Tanrıkulu</a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/"><span class="glyphicon glyphicon-home"></span>Anasayfa</a></li>
        <li><a href="/about/"><span class="glyphicon glyphicon-king"></span>Hakkında</a></li>

      </ul>
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group-sm">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Aranacak ifade">
            <span class="input-group-btn"><button class="btn btn-success btn-sm">Ara!</button></span>
          </div>
        </div>

      </form>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/contact/"><span class="glyphicon glyphicon-envelope"></span> İletişim</a></li>
        <li><a href="http://www.filehoo.com"><span class="glyphicon glyphicon-link"></span> Filehoo</a></li>
      </ul>

    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container-fluid -->
</nav>

    </header>
        <section class="container">
            <div class="row">
                <div class="col-md-3">
                   <div class="panel panel-default">
     <div class="panel-heading text-center"><img class="img-responsive img-circle" src="/assets/img/linkedin_profile_photo.jpg" style="padding-left:30px;padding-right:30px;"/>
       <h2>Atilla Tanrikulu</h2>
     </div>
     <div class="panel-body text-left">
         <div class="row">
             <div class="col-md-12 ">
               <p >
                Bu kişisel blog sitesindeki makaleler, genellikle iş hayatımda unutmak istemediğim bilgileri
                 not alma isteğim sonucunda oluşmuştur.
              </p>
             </div>

         </div>
     </div>
 </div>

                     <!-- Panel -->
<div class="panel panel-default" style="margin-bottom:0px;">
  <div class="panel-heading">
    <h4 class="panel-title">Makaleler</h4>
  </div>

</div>
<div class="list-group">


<a class="list-group-item" href="/How-to-use-Github-Pages-for-static-website/">How to use Github Pages for static website</a>



<a class="list-group-item" href="/IdentityServer-nedir/">IdentityServer Nedir</a>



<a class="list-group-item" href="/JMETER-NOTLARI-KURULUM-VE-KULLANIM/">JMater notlari, kurulum ve kullanim</a>



<a class="list-group-item" href="/Learn-Jekyll-in-12-Steps/">Learn Jekyll in 12 Steps</a>



<a class="list-group-item" href="/docker-cok-kullanilan-komutlar/">Docker Cok kullanilan komutlar</a>



<a class="list-group-item" href="/guvenli-kod-gelistirme/">Guvenlik Kod Gelistirme</a>


</div>


<!--
 
<div class="panel panel-default" style="margin-bottom:0px;">
  <div class="panel-heading">
    <h4 class="panel-title">Kategoriler</h4>
  </div>

</div>
<div class="list-group">


<a class="list-group-item" href="/How-to-use-Github-Pages-for-static-website/">How to use Github Pages for static website</a>



<a class="list-group-item" href="/IdentityServer-nedir/">IdentityServer Nedir</a>



<a class="list-group-item" href="/JMETER-NOTLARI-KURULUM-VE-KULLANIM/">JMater notlari, kurulum ve kullanim</a>



<a class="list-group-item" href="/Learn-Jekyll-in-12-Steps/">Learn Jekyll in 12 Steps</a>



<a class="list-group-item" href="/docker-cok-kullanilan-komutlar/">Docker Cok kullanilan komutlar</a>



<a class="list-group-item" href="/guvenli-kod-gelistirme/">Guvenlik Kod Gelistirme</a>


</div>
-->


                </div>
                <div class="col-md-9 content">
                   <article class="markdown-body">
                     <div class="alert alert-danger">
                      <strong>Not!</strong> Blogtaki tüm makaleler taslaktır, imla hataların ve yazım yanlışları için kusura bakmayın,
                           en yakın zamanda üzerinden geçip düzeltmeler yapacağım.
                    </div>

                    <h1 id="docker">DOCKER</h1>

<h2 id="cok-kullanilan-komutlar">Cok kullanilan komutlar</h2>
<ul>
  <li>Docker bilesenleri versionlarini gondermek
```beanshell
$ docker –version
Docker version 1.12.3, build 6b644ec</li>
</ul>

<p>$ docker-compose –version
docker-compose version 1.8.1, build 878cff1</p>

<p>$ docker-machine –version
docker-machine version 0.8.2, build e18a919</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- `docker images` image listelemek, hub.docker.com dan indirilen images lardir.
image i silmek baska bir sey, container i silmek baska birseydir.
container lari local de biz olusturruz sileriz
- `docker rmi &lt;imageid&gt;` image silmek
- `docker ps` Calisan Container lari gosterir
- `docker stop &lt;containerid&gt;` Calisan Cotainer lari durdurmak
- `docker run -d -p 80:80 --name webserver nginx`  Start service, create container image
- `docker stop webserver` stop container
- `docker start webserver`  : starting service
- `docker ps -a` :  stop olmus container lari da gosterir.
- `docker stop $(docker ps -a -q)`  tum container lari stop eder
- `docker rm $(docker ps -a -q) `  Delete all containers
- `docker rmi $(docker images -q)` Delete all images
- `docker-machine ls` calisan docker engine bilgisini gosterir.
- `docker-machine start default` default olan docker machine start edilir
- `docker-machine start default` default olan docker machine stop edilir
- `docker-machine env` docker-machine ortam bilgilerini gosterir.
- docker-machine i manuel baslatmak icin
`docker-machine start`
`docker-machine env`
`eval $(docker-machine env)`
komutlari calistiriliri.
- docker-machine e baglanmanin 2 yolu vardir.
   1. `docker-machine ssh default` seklinde docket-machine e ait olan cli komutu ile.
   2. `ssh docket@192.168.99.100` pass:tcuser

- `docker-machine config`
- `docker-machine env`
- `docker-machine inspect`
- `docker-machine ip`
- `docker-machine kill`
- `docker-machine provision`
- `docker-machine regenerate-certs`
- `docker-machine restart`
- `docker-machine ssh`
- `docker-machine status`
- `docker-machine upgrade`
- `docker-machine url`
- `docker run -it ubuntu bash` ubuntu bash calistirilir.
- `docker run -d -p 80:80 --name webserver nginx`  nginx imaji kullanilarak webserver adinda bir container olusturur ve calistirir, `-d` deamon olarak yani servis olarak calismasini saglar `-p` ise portu belirten parametredir. `:` ile kullanildiginda ilk configurasyon host a ikincisi ise docker servisine aittir.
- bir container a ssh ile baglamak, usiswiki adli containera baglaniyoruz
```beanshell
bash -c "clear &amp;&amp; DOCKER_HOST=tcp://192.168.99.100:2376 DOCKER_CERT_PATH=/Users/atilla/.docker/machine/machines/default DOCKER_TLS_VERIFY=1 docker exec -it usiswiki sh"
</code></pre></div></div>
<ul>
  <li>Kitematik programini kullanarak ta container lara baglanabilirsiniz.</li>
  <li>ssh ile baglanmanin diger yolu OpenSSH kurmak olabilir</li>
  <li><code class="highlighter-rouge">docker run --name usiswiki -p 80:80 -v $(pwd):/usr/share/nginx/html -d nginx</code> usiswiki adinda bir container olusturur ve onu calistirir <code class="highlighter-rouge">-v</code> parametresi host taki bir directory yi tamemen container a yansitmaktadir. mapleme isi yapilmaktadir.</li>
  <li><code class="highlighter-rouge">:ro</code> readonly demektir. <code class="highlighter-rouge">-v</code> parametresinden sonra kullanilir, bir directory maplendiginde sanal makinanin bu directory ye readonly erismesini saglar.</li>
  <li>Dockerfile : docker image olusturmak icin kullanilan dosyadir, bu dosyanin oldugu klasorde</li>
  <li><code class="highlighter-rouge">docker build -t imagename .</code> komutu verildiginde <strong>imagename</strong> adinda bir image olusturulur.
sonundaki . nokta bulundugu klasoru ifade eder</li>
  <li><code class="highlighter-rouge">docker run --name containername -P -d imagename</code>  bir image dan container olusturup calistirmak.</li>
  <li><code class="highlighter-rouge">docker run -i -t --volumes-from containername --name imagename debian /bin/bash</code> dockerfile da VOLUME maping var ise volume lara ulasmak icin</li>
</ul>

<pre><code class="language-beanshell">docker build -t nginximage1 .
docket images
docker run --name nginxcontainer1 -P -d nginximage1
docker ps
docker run -it --volumes-from nginxcontainer1 --name nginxvolumecontainer1 debian /bin/bash
</code></pre>

<ul>
  <li>Mounting files
    <pre><code class="language-beanshell">docker run --name nginx-container \
-v /path/to/static/files/on/host:/usr/share/nginx/html:ro \
-v /path/to/conf/on/host:/etc/nginx/nginx.conf:ro \
-P -d nginx
</code></pre>
    <p>yada</p>
    <pre><code class="language-beanshell">docker run --name nginx-container \
-v $(pwd)/html:/usr/share/nginx/html:ro \
-v $(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro \
-P -d nginx
</code></pre>
  </li>
  <li>interaktif olarak loglari gondermek <code class="highlighter-rouge">-it</code>
    <pre><code class="language-beanshell">docker run -it --name nginx-container \
-v $(pwd)/html:/usr/share/nginx/html:ro \
-v $(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro \
-P nginx bash
</code></pre>
  </li>
</ul>

<h3 id="ozet-olarak-4-adimda-nginx-kurulumu-yapilabilir">Ozet olarak 4 adimda nginx kurulumu yapilabilir</h3>
<ol>
  <li>Dockerfile olusturulur, icinde FROM ifadesinde docker hub taki hangi image kullanilacagi bildirlirlir.
    <pre><code class="language-beanshell">FROM nginx
RUN echo "runing command"
VOLUME /usr/share/nginx/html
VOLUME /etc/nginx
</code></pre>
  </li>
  <li><code class="highlighter-rouge">docker build -t nginximagename .</code> seklinde image olusturulur, olusan image <code class="highlighter-rouge">docker images</code> komutu ile gorulebilir.</li>
  <li>image kullanilarak container olusturulur ve run edilir.
<code class="highlighter-rouge">docker run -it --name usiswikicontainer -v $(pwd)/src:/usr/share/nginx/html:ro -v $(pwd)/nginx/nginx.conf:/etc/nginx/nginx.conf:ro -P -d nginximagename</code><br />
veya
<code class="highlighter-rouge">docker run -it --name wiki1 -p 8181:80 -v /Users/atilla/WP/usiswiki/src/:/usr/share/nginx/html/ -v /Users/atilla/WP/usiswiki/nginx/nginx.conf:/etc/nginx/nginx.conf:ro -P -d usiswikiimage</code></li>
  <li>sonraki calistirma ve kapatma islemleri su sekulde yapilir.
    <pre><code class="language-beanshell">docker start usiswikicontainer
docker stop usiswikicontainer
</code></pre>
  </li>
</ol>

<ul>
  <li>
    <p><code class="highlighter-rouge">docker network ls</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">docker run --name mysqlc1 -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123 -d mysql</code> mysql container olusturmak <code class="highlighter-rouge">-e</code> parametresi environment variable vermek oluyor.</p>
  </li>
  <li><code class="highlighter-rouge">docker exec ...</code> container icinde komut calistiriyor.</li>
  <li>
    <p><code class="highlighter-rouge">docker exec -it mysqlc1 bash</code></p>
  </li>
  <li>
    <p>Widows ta docker in networke acilmi var fakat mac te yok, -p parameteresine host ip adresi de eklenerek yapiliyor.
<code class="highlighter-rouge">-p 192.168.2.3:80:8080</code> gibi</p>
  </li>
  <li>image olusturma dosyasi <code class="highlighter-rouge">Dockerfile</code> container olusturma dosyasi ise <code class="highlighter-rouge">.yml</code></li>
</ul>

<h3 id="ozet">Ozet</h3>

<p>host: Docker machine in kurulu oldugu bilgisayardir.
Dockre machine: bir sanal maikandir ve container lari calistirir. adresi: 192.168.99.100:2370
image : sanal makina imajlaridir.
container: image dan kopyalanmis sanal makinalardir.</p>

<p>sonuc olarak docker-machine icinde containerler calisir.
herbir container bir nNIC network kartina sahiptir ve bunlar
docker machine uzerindeki vSwitch e baglidir. switch e disardan gelen trafik 192.168.99.100 uzerinden gelir.
portuna gore icerdeki bir sanal makinaya yonlendirilir.
bu durumda her port bir servis yada sanal makina olarak dusunulebilir</p>

<h3 id="hangi-driver">Hangi Driver</h3>

<p>Docker asagidaki driverlari destekler</p>

<p>Amazon Web Services
Microsoft Azure
Digital Ocean
Exoscale
Google Compute Engine
Generic
Microsoft Hyper-V
OpenStack
Rackspace
IBM Softlayer
Oracle VirtualBox
VMware vCloud Air
VMware Fusion
VMware vSphere
parallels</p>

<p>host isletim sistemine gore hangisinin kullanilacagina karar verilebilir.
orgnegin windows hostlar uzerinde docker calistirilirken hyperv kullanmak daha mantiklidir.</p>

<ul>
  <li>Docker machine bir driver eklemek icin</li>
  <li><code class="highlighter-rouge">docker-machine create --driver hyperv vm</code></li>
  <li><code class="highlighter-rouge">eval $(docker-machine env machine-name)</code> yeni docker-machine active etmek icin</li>
</ul>



                  </article>
                </div>
                <aside>

              </aside>
            </div>
        </section>
            <br>
        <footer class="container">
            <div class="container" style="background-color:#f6f8fa;">
  <div class="row">

    <div class="col-md-3">
      <ul>

        <li><a href="/about/">Hakkimda</a></li>

      </ul>
    </div>
    <div cclass="col-md-3">
      <ul>

        <li><a href="/contact/">İletişim</a></li>

      </ul>
    </div>
    <div class="col-md-3">

    </div>
  </div>
</div>
<hr>
<div class="row-fluid">
  <div>
    <div  class="col-md-6">
      <a href="#">Kullanim kosullari</a>
      <a href="#">Gizlilik</a>
      <a href="#">Guvenlik</a>
    </div>
    <div  class="col-md-6">
      <p class="muted pull-right">© 2017 Atilla Tanrikulu.</p>
    </div>
  </div>
</div>

        </footer>
  <!--#region BASE --> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!--#endregion BASE-->

<!--#region CORE-->
<script src="/assets/js/core.js"></script>
<!--#endregion CORE-->

  </body>
</html>
